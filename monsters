@startuml
actor Монстры as mon
participant Imonster as im
participant "Taxi-service" as taxi
autonumber
==Сценарий 1==
Машина->Машина++ : выезд на смену
mon->mon++: хочу домой
mon->im++: разблочить гаджет
im->im: проверка monsterId
mon<--im: проверка успешна
mon->im: открыть приложение Монстер.GO
mon<--im: приложение открыто
mon->im: заказать такси
alt неудачный подбор машины

im->taxi++ : запрос ближайших машин для заказа
taxi->taxi : поиск подходящих машин
taxi->Машина: отправка заявок подходящим водителям
taxi->taxi : всек водители отказались везти
taxi->im : нет подходящих машин

else удачный подбор машины
im->taxi++ : запрос ближайших машин для заказа
taxi->taxi : поиск подходящих машин
taxi->Машина: отправка заявок подходящим водителям
taxi->taxi : обработка заявок и выбор ближайшей машины
Машина->taxi++: согласие водителя на перевозку
im<-taxi : обработанная заявка
mon<-im: отображение уведомления о согласии на перевозку
mon->mon: ожидание
Машина->mon: подъезжает к монстрам
taxi->im:сообщение "машина подъезжает". Запуск таймера 5 минут оэидания
 im->im: активация кнопки "уже иду"
mon->im: нажатие кнопки "уже иду"
mon-> Машина: сели в такси
end alt
@enduml
